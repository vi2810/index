<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Cadastro de Colaboradores</title>
    <link rel="stylesheet" href="estilo.css">
</head>
<body class="index">
    <h1>Cadastro de Colaboradores</h1>

    <label for="nome">Nome Completo:</label><br>
    <input type="text" id="nome"><br><br>

    <label for="matricula">Matrícula:</label><br>
    <input type="text" id="matricula"><br><br>

    <label for="cargo">Cargo:</label><br>
    <input type="text" id="cargo"><br><br>

    <label for="cpf">CPF:</label><br>
    <input type="text" id="cpf" maxlength="14" placeholder="000.000.000-00"><br><br>

    <label for="nascimento">Data de Nascimento:</label><br>
    <input type="date" id="nascimento"><br><br>

    <label for="telefone">Telefone:</label><br>
    <input type="tel" id="telefone" placeholder="(99) 99999-9999"><br><br>

    <label for="email">Email:</label><br>
    <input type="email" id="email"><br><br>

    <label for="endereco">Endereço:</label><br>
    <input type="text" id="endereco"><br><br>

    <label for="numero">Número:</label><br>
    <input type="text" id="numero"><br><br>

    <label for="complemento">Complemento:</label><br>
    <input type="text" id="complemento"><br><br>

    <label for="bairro">Bairro:</label><br>
    <input type="text" id="bairro"><br><br>

    <label for="cidade">Cidade:</label><br>
    <input type="text" id="cidade"><br><br>

    <label for="estado">Estado:</label><br>
    <input type="text" id="estado"><br><br>

    <label for="cep">CEP:</label><br>
    <input type="text" id="cep" placeholder="86000-000"><br><br>

    <label for="obs">Observações:</label><br>
    <textarea id="obs" rows="4" cols="50"></textarea><br><br>

    <button class="botao" id="cadastrarColaborador">Cadastrar</button>

    <br><br>
    <footer>
        <button class="botao" onclick="history.back()">Voltar</button>
    </footer>

    <script>
        // Máscara para CPF
        document.getElementById("cpf").addEventListener("input", function (e) {
            let v = e.target.value.replace(/\D/g, "");
            v = v.replace(/(\d{3})(\d)/, "$1.$2");
            v = v.replace(/(\d{3})(\d)/, "$1.$2");
            v = v.replace(/(\d{3})(\d{1,2})$/, "$1-$2");
            e.target.value = v;
        });

        // Cadastro
        document.getElementById("cadastrarColaborador").addEventListener("click", function () {
            const colaborador = {
                nome: document.getElementById("nome").value.trim(),
                matricula: document.getElementById("matricula").value.trim(),
                cargo: document.getElementById("cargo").value.trim(),
                cpf: document.getElementById("cpf").value.trim(),
                nascimento: document.getElementById("nascimento").value,
                telefone: document.getElementById("telefone").value.trim(),
                email: document.getElementById("email").value.trim(),
                endereco: document.getElementById("endereco").value.trim(),
                numero: document.getElementById("numero").value.trim(),
                complemento: document.getElementById("complemento").value.trim(),
                bairro: document.getElementById("bairro").value.trim(),
                cidade: document.getElementById("cidade").value.trim(),
                estado: document.getElementById("estado").value.trim(),
                cep: document.getElementById("cep").value.trim(),
                observacoes: document.getElementById("obs").value.trim()
            };

            if (!colaborador.nome || !colaborador.matricula || !colaborador.cargo) {
                alert("Preencha pelo menos os campos obrigatórios: Nome, Matrícula e Cargo.");
                return;
            }

            const colaboradores = JSON.parse(localStorage.getItem("colaboradores")) || [];
            colaboradores.push(colaborador);
            localStorage.setItem("colaboradores", JSON.stringify(colaboradores));

            alert("Colaborador cadastrado com sucesso!");
            document.querySelectorAll("input, textarea").forEach(el => el.value = "");
        });
    </script>
</body>
</html>
